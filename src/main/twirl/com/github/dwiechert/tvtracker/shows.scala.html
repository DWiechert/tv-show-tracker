@(shows: List[Show])

<style>
.submitLink {
	background-color: transparent;
	text-decoration: underline;
	border: none;
	color: blue;
	cursor: pointer;
}
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript">
function getFormData($form){
    var unindexed_array = $form.serializeArray();
    var indexed_array = {};

    $.map(unindexed_array, function(n, i){
        indexed_array[n['name']] = n['value'];
    });

    return indexed_array;
}

function addshow() {
	var form = $(document.addshowForm);
	var data = "{ \"name\": \"Avatar: The Last Airbender\" }";
	// This needs to point to a "real" domain because it isn't allowed to hit localhost
	// Curl works though - curl -v -X PUT localhost:8080/addshow -H "Content-Type: application/json" -d "{ \"name\": \"Avatar: The Last Airbender\" }"
	$.ajax({
		  type: "PUT",
		  url: "/addshow",
		  data: data,
		  success: function(){},
		  contentType : "application/json"
		});
}
</script>

<h3>Add Show</h3>
<!-- http://stackoverflow.com/questions/22195065/how-to-send-a-json-object-using-html-form-data -->
<form name="addshowForm" action="javascript:addshow()">
	Show Name: <input type="text" name="name"><br>
	<input type="submit" value="Submit">
</form>

<h3>All Shows</h3>
<ul>
@for(show <- shows) {
	<li>
		<form action="show" method="get">
			<input type="submit" name="showName" class="submitLink" value="@show.name">
		</form>
  </li>
}
</ul>